# Required: ElevenLabs is used for conversation STT in current app flow.
ELEVENLABS_API_KEY=

# Required: Gemini is used for assistant responses.
GEMINI_API_KEY=
GEMINI_MODEL=gemini-3-flash-preview

# TTS provider: elevenlabs | kitten | piper
TTS_PROVIDER=piper

# Required only when TTS_PROVIDER=elevenlabs
VOICE_ID=

# Piper settings (TTS_PROVIDER=piper)
PIPER_MODEL=en_US-lessac-medium
PIPER_SPEAKER=0

# Kitten settings (TTS_PROVIDER=kitten)
KITTEN_MODEL_NAME=KittenML/kitten-tts-nano-0.8-int8
KITTEN_VOICE=expr-voice-2-f

# Optional path override. Leave commented to use default:
# models/vosk-model-small-en-us-0.15 (relative to project root)
# LOCAL_ASR_MODEL_PATH=models/vosk-model-small-en-us-0.15

# Optional persona prompt files. Leave defaults for built-in behavior:
SOUL_PATH=soul.md
IDENTITY_PATH=identity.md

KEYWORD_MAX_SECONDS=3.2
KEYWORD_START_TIMEOUT=2.2
KEYWORD_END_SILENCE_MS=550
KEYWORD_CYCLE_SLEEP_SECONDS=0.25
KEYWORD_VAD_MODE=1
KEYWORD_MIN_RMS=140
KEYWORD_MIN_SPEECH_FRAMES=2

CONVERSATION_MAX_SECONDS=6.0
CONVERSATION_START_TIMEOUT=1.8
CONVERSATION_END_SILENCE_MS=700
CONVERSATION_VAD_MODE=3
CONVERSATION_MIN_RMS=650
CONVERSATION_MIN_SPEECH_FRAMES=5
CONVERSATION_MIN_VALID_MS=700
CONVERSATION_MAX_MISSES=2

# Optional path override. Leave commented to use default:
# assets/wake_ack.wav (relative to project root)
# WAKE_ACK_AUDIO_PATH=assets/wake_ack.wav
WAKE_ACK_REPEAT=1
WAKE_ACK_GAP_SECONDS=0.08
WAKE_ACK_MIN_LEAD_SILENCE_SECONDS=0.45

# Add a tiny silence before TTS playback to avoid clipping the first phoneme
# on some PipeWire/ALSA setups. Set to 0 to disable.
TTS_MIN_LEAD_SILENCE_SECONDS=0.30

# Optional backend warmup before each TTS playback to reduce stream cold-start clipping.
# Set to 0 to disable.
TTS_PLAYBACK_WARMUP_SECONDS=0.12

# Streaming response pipeline:
# 1 = enable LLM+TTS streaming with auto fallback to non-streaming
# 0 = force non-streaming behavior
ENABLE_STREAMING=1

# Sentence flush controls for streaming TTS.
STREAM_SENTENCE_MAX_CHARS=80
STREAM_SENTENCE_MAX_WAIT_MS=700

# Expected PCM sample rate for streaming TTS path.
STREAM_PCM_SAMPLE_RATE=24000
